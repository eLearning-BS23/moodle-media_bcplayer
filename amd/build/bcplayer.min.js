function asyncGeneratorStep(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(a){c(a);return}if(h.done){b(i)}else{Promise.resolve(i).then(d,e)}}function _asyncToGenerator(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){var h=a.apply(b,c);function f(a){asyncGeneratorStep(h,d,e,f,g,"next",a)}function g(a){asyncGeneratorStep(h,d,e,f,g,"throw",a)}f(void 0)})}}define ("media_bcplayer/bcplayer",["jquery","core/event"],function(a,b){var c={},d=function(a){a.forEach(function(a){a.innerHTML="";a.setAttribute("data-store-account",a.getAttribute("data-account"));a.setAttribute("data-store-player",a.getAttribute("data-player"));a.setAttribute("data-store-video-id",a.getAttribute("data-video-id"));a.removeAttribute("data-account");a.removeAttribute("data-player");a.removeAttribute("data-video-id")})},e=function(){var a=_asyncToGenerator(regeneratorRuntime.mark(function a(){var b,c,e;return regeneratorRuntime.wrap(function(a){while(1){switch(a.prev=a.next){case 0:b=document.querySelectorAll("video-js");c=Array.prototype.slice.call(b).map(function(a){return{acc:a.getAttribute("data-account"),player:a.getAttribute("data-player")}}).filter(function(a,b,c){return c.indexOf(a)===b});d(b);e=0;case 4:if(!(e<c.length)){a.next=10;break}a.next=7;return f(c[e]);case 7:e++;a.next=4;break;case 10:case"end":return a.stop();}}},a)}));return function(){return a.apply(this,arguments)}}(),f=function(a){requirejs.undef("bc");requirejs.config({paths:{bc:"http://players.brightcove.net/".concat(a.acc,"/").concat(a.player,"_default/index.min")}});return new Promise(function(b){require(["bc"],function(d){c["bc".concat(a.acc).concat(a.player)]=d;var e=g(a);e.on("loadedmetadata",function(){b(e)})})})},g=function(a){var b=document.querySelectorAll("video-js[data-store-account='".concat(a.acc,"'][data-store-player='").concat(a.player,"']")),d;b.forEach(function(b){b.setAttribute("data-account",b.getAttribute("data-store-account"));b.setAttribute("data-player",b.getAttribute("data-store-player"));b.setAttribute("data-video-id",b.getAttribute("data-store-video-id"));d=c["bc".concat(a.acc).concat(a.player)](b);d.controls(!0);if(d.hasClass("vjs-play-button-shape-square")){d.removeClass("vjs-play-button-shape-square")}d.on("timeupdate",function(){console.log("Video remaining time: "+d.remainingTime())})});return d};return{init:function init(){a(document).on("brightcoveinsertedtodom",function(){e()});b.getLegacyEvents().done(function(b){a(document).one(b.FILTER_CONTENT_UPDATED,function(){e()})})}}});
//# sourceMappingURL=bcplayer.min.js.map
